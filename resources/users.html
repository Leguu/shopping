<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml"
    th:replace="~{fragments/layout :: layout(~{::title}, ~{::body})}">

<head>
    <title>All users</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>

    <h1>Users</h1>

    <div style="display: flex; flex-direction: row; flex-gap: 8px">
        <div class="card" style="width: 18rem;" th:each="user: ${users}">
            <div class="card-body">
                <h5 class="card-title" th:text="${user.id}">Card title</h5>
                <h6 class="card-subtitle mb-2 text-body-secondary" th:text="${user.password}"></h6>

                <form method="post" th:action="'/downgrade/'+${user.id}" th:if="${user.isAdmin}">
                    <button type="submit" class="btn btn-primary">Downgrade</button>
                </form>

                <form method="post" th:action="'/upgrade/'+${user.id}" th:unless="${user.isAdmin}">
                    <button type="submit" class="btn btn-primary">Upgrade</button>
                </form>
            </div>
        </div>
    </div>
</body>

</html>